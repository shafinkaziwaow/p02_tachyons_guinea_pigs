<!--
  Shafin Kazi, Alvin Sze, Thamidur Rahman, Sean Takahashi
  Tachyons Guinea Pigs
  SoftDev pd4
  p02
  2026-01-16f
-->
{% extends "header.html" %}

{% block title %}
Log In
{% endblock %}

{% block content %}

<div class="min-h-screen flex items-center justify-center">
  <div class="w-full max-w-lg">
    <form
      method="POST"
      action="{{ url_for('auth.login_post') }}"
      class="bg-white shadow-md border border-yellow-500 rounded px-8 pt-6 pb-8 mb-4"
    >
      <div class="mb-4">
        <label class="block text-gray-700 text-sm font-bold mb-2" for="username"
          >Username</label
        >
        <input
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700"
          id="username"
          name="username"
          type="text"
          required
          placeholder="Username"
        />
      </div>
      <div class="mb-4">
        <label class="text-gray-700 text-sm font-bold mb-2" for="password"
          >Password</label
        >
        <input
          class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3"
          id="password"
          name="password"
          type="password"
          required
          placeholder="Password"
        />
      </div>
      <div class="flex items-center justify-between">
        <button
          class="bg-cyan-500 hover:bg-cyan-700 text-white font-bold py-2 px-4 rounded transition duration-200 hover:scale-105"
          type="submit"
        >
          Log In
        </button>
      </div>

      <a class="inline-block align-baseline font-bold py-4 text-sm text-amber-600 hover:text-amber-800" href="/auth/register">
        Don't have an account? Register here
      </a>
    </form>

    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
      <div class="space-y-4 mt-4">
        {% for category, message in messages %}
          {% if category == 'error' %}
          <div class="px-4 py-3 rounded bg-red-100 border border-red-400 text-red-700" role="alert">
            {{ message }}
          </div>
          {% elif category == 'success' %}
          <div class="px-4 py-3 rounded bg-green-100 border border-green-400 text-green-700" role="alert">
            {{ message }}
          </div>
          {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    {% endwith %}
  </div>
</div>

{% endblock %}
